{"version":3,"sources":["scripts/cart.js"],"names":["cart","d","document","products","querySelector","productsInputs","querySelectorAll","addCart","id","price","hasOwnProperty","count","console","log","delCart","delAllCart","item","changeCount","e","target","parentNode","children","value","path","dataset","addEventListener","classList","contains","forEach","i"],"mappings":"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","file":"cart.8a7a0a92.js","sourceRoot":"..","sourcesContent":["'use strict'\r\nlet cart = {}\r\n\r\nlet d = document;\r\nconst products = d.querySelector('.products');\r\nconst productsInputs = d.querySelectorAll('.product__count');\r\n// добавить в корзину\r\nfunction addCart(id, price) {\r\n    // лежит ли уже в корзине\r\n    if (cart.hasOwnProperty(id)) {\r\n        cart[id].count += 1;\r\n        cart[id]['totalPrice'] = cart[id]['count'] * cart[id]['price'];\r\n    }\r\n    // если не лежит\r\n    else {\r\n        cart[id] = {};\r\n        cart[id].count = 1;\r\n        cart[id]['price'] = +price;\r\n        cart[id]['totalPrice'] = cart[id]['count'] * cart[id]['price'];\r\n    }\r\n    console.log(cart);\r\n};\r\n\r\n// удалить из корзины\r\nfunction delCart(id) {\r\n    // если не осталось товара в корзине, удалить из объекта\r\n    if (cart.hasOwnProperty(id)) {\r\n        if (cart[id]['count'] - 1 === 0) {\r\n            delete cart[id];\r\n            console.log(cart);\r\n            return;\r\n        }\r\n        cart[id].count -= 1;\r\n        cart[id]['totalPrice'] = cart[id]['count'] * cart[id]['price'];\r\n    }\r\n    // если не лежит\r\n    else {\r\n        console.log(cart);\r\n        return;\r\n    }\r\n    console.log(cart);\r\n};\r\n\r\nfunction delAllCart() {\r\n    for (let item in cart) {\r\n        delete cart[item];\r\n    }\r\n    console.log(cart);\r\n}\r\n\r\nfunction changeCount(e, id) {\r\n    if (!cart.hasOwnProperty(id)) return;\r\n    e.target.parentNode.children[1].value = cart[e.path[2].dataset.id]['count'];\r\n}\r\n\r\n\r\nproducts.addEventListener('click', e => {\r\n    // нажата кнопка \"+\" ?\r\n    if (e.target.classList.contains('product__btn--plus')) {\r\n        addCart(e.path[2].dataset.id, e.path[2].dataset.price);\r\n        changeCount(e, e.path[2].dataset.id);\r\n    }\r\n    // нажата кнопка \"-\" ?\r\n    else if (e.target.classList.contains('product__btn--minus')) {\r\n        delCart(e.path[2].dataset.id);\r\n        changeCount(e, e.path[2].dataset.id);\r\n    } \r\n    else if (e.target.classList.contains('products__btn--clear')) {\r\n        delAllCart();\r\n        productsInputs.forEach( i => i.value = 0);\r\n    }\r\n});\r\n"]}